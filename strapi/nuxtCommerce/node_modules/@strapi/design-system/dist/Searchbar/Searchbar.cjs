"use strict";var $=Object.defineProperty;var n=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var F=(e,l,t)=>l in e?$(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,m=(e,l)=>{for(var t in l||(l={}))h.call(l,t)&&F(e,t,l[t]);if(n)for(var t of n(l))y.call(l,t)&&F(e,t,l[t]);return e};var q=(e,l)=>{var t={};for(var r in e)h.call(e,r)&&l.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&n)for(var r of n(e))l.indexOf(r)<0&&y.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react"),z=require("prop-types"),I=require("styled-components"),T=require("@strapi/icons/Search"),w=require("@strapi/icons/Cross"),A=require("../themes/sizes.cjs"),L=require("../Field/Field.cjs"),W=require("../Field/FieldLabel.cjs"),d=require("../Field/FieldInput.cjs");require("../Field/FieldContext.cjs");require("../Typography/Typography.cjs");const H=require("../Field/FieldAction.cjs"),P=require("../VisuallyHidden/VisuallyHidden.cjs"),V=require("../themes/utils.cjs"),b=require("../Flex/Flex.cjs"),i=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},s=i(c),a=i(z),o=i(I),M=i(T),O=i(w),k=o.default(b.Flex)`
  font-size: 0.5rem;
  svg path {
    fill: ${({theme:e})=>e.colors.neutral400};
  }
`,g=o.default(b.Flex)`
  font-size: 0.8rem;

  svg path {
    fill: ${({theme:e})=>e.colors.neutral800};
  }
`,D=o.default.div`
  border-radius: ${({theme:e})=>e.borderRadius};
  box-shadow: ${({theme:e})=>e.shadows.filterShadow};

  &:focus-within {
    ${g} {
      svg path {
        fill: ${({theme:e})=>e.colors.primary600};
      }
    }
  }

  ${d.InputWrapper} {
    border: 1px solid transparent;
  }

  ${V.inputFocusStyle(d.InputWrapper)}
`,u=c.forwardRef((N,R)=>{var f=N,{name:e,size:l,children:t,value:r,onClear:j,clearLabel:_}=f,S=q(f,["name","size","children","value","onClear","clearLabel"]);const p=c.useRef(null),E=r.length>0,C=x=>{j(x),p.current.focus()},v=R||p;return s.default.createElement(D,null,s.default.createElement(L.Field,{name:e},s.default.createElement(P.VisuallyHidden,null,s.default.createElement(W.FieldLabel,null,t)),s.default.createElement(d.FieldInput,m({ref:v,value:r,startAction:s.default.createElement(g,null,s.default.createElement(M.default,{"aria-hidden":!0})),size:l,endAction:E?s.default.createElement(H.FieldAction,{label:_,onClick:C},s.default.createElement(k,null,s.default.createElement(O.default,null))):void 0},S))))});u.displayName="Searchbar";u.defaultProps={value:"",size:"M"};u.propTypes={children:a.default.node.isRequired,clearLabel:a.default.string.isRequired,name:a.default.string.isRequired,onClear:a.default.func.isRequired,size:a.default.oneOf(Object.keys(A.sizes.input)),value:a.default.string};exports.Searchbar=u;
