"use strict";var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var T=(e,a,r)=>a in e?F(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,P=(e,a)=>{for(var r in a||(a={}))p.call(a,r)&&T(e,r,a[r]);if(f)for(var r of f(a))R.call(a,r)&&T(e,r,a[r]);return e};var _=(e,a)=>{var r={};for(var u in e)p.call(e,u)&&a.indexOf(u)<0&&(r[u]=e[u]);if(e!=null&&f)for(var u of f(e))a.indexOf(u)<0&&R.call(e,u)&&(r[u]=e[u]);return r};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("react"),O=require("prop-types"),h=require("./RawTableContext.cjs"),l=require("../helpers/keyboardKeys.cjs"),G=require("./focusFocusable.cjs"),E=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},m=E(o),b=E(O),y=M=>{var d=M,{colCount:e,rowCount:a,jumpStep:r,initialCol:u,initialRow:q}=d,w=_(d,["colCount","rowCount","jumpStep","initialCol","initialRow"]);const K=o.useRef(null),i=o.useRef(!1),[D,c]=o.useState(q),[k,n]=o.useState(u),g=o.useCallback(({colIndex:s,rowIndex:t})=>{n(s),c(t)},[]);o.useEffect(()=>{i.current&&G.focusFocusable(K.current),i.current||(i.current=!0)},[k,D]);const j=s=>{switch(s.key){case l.KeyboardKeys.RIGHT:{s.preventDefault(),n(t=>t<e-1?t+1:t);break}case l.KeyboardKeys.LEFT:{s.preventDefault(),n(t=>t>0?t-1:t);break}case l.KeyboardKeys.UP:{s.preventDefault(),c(t=>t>0?t-1:t);break}case l.KeyboardKeys.DOWN:{s.preventDefault(),c(t=>t<a-1?t+1:t);break}case l.KeyboardKeys.HOME:{s.preventDefault(),s.ctrlKey&&c(0),n(0);break}case l.KeyboardKeys.END:{s.preventDefault(),s.ctrlKey&&c(a-1),n(e-1);break}case l.KeyboardKeys.PAGE_DOWN:{s.preventDefault(),c(t=>t+r<a?t+r:a-1);break}case l.KeyboardKeys.PAGE_UP:{s.preventDefault(),c(t=>t-r>0?t-r:0);break}}};return m.default.createElement(h.RawTableContext.Provider,{value:{rowIndex:D,colIndex:k,setTableValues:g}},m.default.createElement("table",P({role:"grid",ref:K,"aria-rowcount":a,"aria-colcount":e,onKeyDown:j},w)))};y.defaultProps={jumpStep:3,initialCol:0,initialRow:0};y.propTypes={colCount:b.default.number.isRequired,initialCol:b.default.number,initialRow:b.default.number,jumpStep:b.default.number,rowCount:b.default.number.isRequired};exports.RawTable=y;
