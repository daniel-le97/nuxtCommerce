"use strict";var W=Object.defineProperty;var c=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var P=(e,a,t)=>a in e?W(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,j=(e,a)=>{for(var t in a||(a={}))I.call(a,t)&&P(e,t,a[t]);if(c)for(var t of c(a))_.call(a,t)&&P(e,t,a[t]);return e};var y=(e,a)=>{var t={};for(var n in e)I.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&c)for(var n of c(e))a.indexOf(n)<0&&_.call(e,n)&&(t[n]=e[n]);return t};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("react"),A=require("prop-types"),V=require("@strapi/icons/Calendar"),w=require("@strapi/icons/Cross"),F=require("../themes/sizes.cjs"),G=require("../TextInput/TextInput.cjs"),D=require("./components.cjs"),H=require("./DatePickerCalendar.cjs"),R=require("./utils/formatDate.cjs"),J=require("../helpers/useId.cjs"),K=require("../helpers/getDefaultLocale.cjs"),u=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},l=u(i),r=u(A),N=u(V),Q=u(w),g=U=>{var C=U,{ariaLabel:e,initialDate:a,selectedDate:t,onChange:n,label:d,locale:E,selectedDateLabel:T,onClear:b,clearLabel:L,disabled:o,id:x}=C,z=y(C,["ariaLabel","initialDate","selectedDate","onChange","label","locale","selectedDateLabel","onClear","clearLabel","disabled","id"]);const O=J.useId("datepicker",x),[m,f]=i.useState(!1),s=i.useRef(null),v=i.useRef(null),h=E||K.getDefaultLocale(),k=t?R.formatDate(t,h):"",q=()=>{o||f(p=>!p)},S=()=>{o||(b(),v.current.focus())},B=p=>{n(p),f(!1)},M=()=>{f(!1)};return l.default.createElement(D.DatePickerWrapper,{bold:m},l.default.createElement(G.TextInput,j({ref:s,onClick:q,onChange:()=>{},value:k,startAction:l.default.createElement(D.DatePickerButton,{ref:v,onClick:q,"aria-label":t?T(R.formatDate(t,h)):d||e,type:"button","aria-disabled":o},l.default.createElement(N.default,{"aria-hidden":!0})),endAction:b&&k?l.default.createElement(D.IconBox,{as:"button",onClick:S,"aria-label":L,"aria-disabled":o},l.default.createElement(Q.default,null)):void 0,"aria-autocomplete":"none",label:d,"aria-label":e,disabled:o,id:O},z)),s.current&&s.current.inputWrapperRef&&m&&l.default.createElement(H.DatePickerCalendar,{selectedDate:t,initialDate:a,onChange:B,onEscape:M,popoverSource:s.current.inputWrapperRef,label:d||e}))};g.defaultProps={ariaLabel:void 0,clearLabel:void 0,disabled:!1,id:void 0,label:void 0,locale:void 0,initialDate:new Date,onClear:void 0,placeholder:void 0,selectedDate:void 0,size:"M"};g.propTypes={ariaLabel:r.default.string,clearLabel:r.default.string,disabled:r.default.bool,id:r.default.string,initialDate:r.default.instanceOf(Date),label:r.default.string,locale:r.default.string,onChange:r.default.func.isRequired,onClear:r.default.func,placeholder:r.default.string,selectedDate:r.default.instanceOf(Date),selectedDateLabel:r.default.func.isRequired,size:r.default.oneOf(Object.keys(F.sizes.input))};exports.DatePicker=g;
