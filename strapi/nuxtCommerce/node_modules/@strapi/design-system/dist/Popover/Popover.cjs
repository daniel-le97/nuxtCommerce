"use strict";var W=Object.defineProperty;var i=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(e,o,t)=>o in e?W(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,u=(e,o)=>{for(var t in o||(o={}))P.call(o,t)&&g(e,t,o[t]);if(i)for(var t of i(o))y.call(o,t)&&g(e,t,o[t]);return e};var v=(e,o)=>{var t={};for(var r in e)P.call(e,r)&&o.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&i)for(var r of i(e))o.indexOf(r)<0&&y.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const L=require("react"),D=require("prop-types"),z=require("styled-components"),s=require("@floating-ui/react-dom"),d=require("../Box/Box.cjs"),A=require("../Portal/Portal.cjs"),C=require("../helpers/useIntersection.cjs"),x=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function N(e){if(e&&e.__esModule)return e;const o=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return o.default=e,Object.freeze(o)}const a=N(L),n=x(D),w=x(z),E=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],I=w.default(d.Box)`
  box-shadow: ${({theme:e})=>e.shadows.filterShadow};
  z-index: 4;
  border: 1px solid ${({theme:e})=>e.colors.neutral150};
  background: ${({theme:e})=>e.colors.neutral0};
`,V=w.default(d.Box)`
  // 16 is base base size, 3 is the factor to get closer to 40px and 5 is the number of elements visible in the list
  max-height: ${3*5}rem;
  overflow-y: auto;
  overflow-x: hidden;

  &::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: ${({theme:e})=>e.colors.neutral0};
  }

  &::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.neutral150};
    border-radius: ${({theme:e})=>e.borderRadius};
    margin-right: 10px;
  }
`,f=F=>{var b=F,{source:e,children:o,spacing:t,fullWidth:r,placement:k,onReachEnd:c,intersectionId:l,centered:R}=b,q=v(b,["source","children","spacing","fullWidth","placement","onReachEnd","intersectionId","centered"]);const m=a.useRef(null),[j,S]=a.useState(void 0),{x:T,y:$,reference:h,floating:M,strategy:B}=s.useFloating({strategy:"fixed",placement:R?"bottom":k,middleware:[s.offset({mainAxis:t}),s.shift(),s.flip()],whileElementsMounted:s.autoUpdate});return a.useLayoutEffect(()=>{h(e.current)},[e,h]),a.useLayoutEffect(()=>{r&&S(e.current.offsetWidth)},[r,e]),C.useIntersection(m,c,{selectorToWatch:`#${l}`,skipWhen:!l||!c}),a.createElement(I,{ref:M,style:{left:T,top:$,position:B,width:j||void 0},hasRadius:!0,background:"neutral0",padding:1},a.createElement(V,u({ref:m},q),o,l&&c&&a.createElement(d.Box,{id:l,width:"100%",height:"1px"})))},p=e=>a.createElement(A.Portal,null,a.createElement(f,u({},e))),_={fullWidth:!1,intersectionId:void 0,onReachEnd:void 0,centered:!1,placement:"bottom-start",spacing:0},O={centered:n.default.bool,children:n.default.node.isRequired,fullWidth:n.default.bool,intersectionId:n.default.string,onReachEnd:n.default.func,placement:n.default.oneOf(E),source:n.default.shape({current:(typeof Element=="undefined"?n.default.any:n.default.instanceOf(Element)).isRequired}).isRequired,spacing:n.default.number};f.propTypes=O;f.defaultProps=_;p.propTypes=O;p.defaultProps=_;exports.POPOVER_PLACEMENTS=E;exports.Popover=p;
