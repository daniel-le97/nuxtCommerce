var z = Object.defineProperty, W = Object.defineProperties;
var S = Object.getOwnPropertyDescriptors;
var p = Object.getOwnPropertySymbols;
var g = Object.prototype.hasOwnProperty, h = Object.prototype.propertyIsEnumerable;
var m = (e, t, r) => t in e ? z(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r, b = (e, t) => {
  for (var r in t || (t = {}))
    g.call(t, r) && m(e, r, t[r]);
  if (p)
    for (var r of p(t))
      h.call(t, r) && m(e, r, t[r]);
  return e;
}, x = (e, t) => W(e, S(t));
var y = (e, t) => {
  var r = {};
  for (var o in e)
    g.call(e, o) && t.indexOf(o) < 0 && (r[o] = e[o]);
  if (e != null && p)
    for (var o of p(e))
      t.indexOf(o) < 0 && h.call(e, o) && (r[o] = e[o]);
  return r;
};
import l from "react";
import i from "prop-types";
import u from "styled-components";
import { sizes as j } from "../themes/sizes.js";
import { inputFocusStyle as B } from "../themes/utils.js";
import { Typography as C } from "../Typography/Typography.js";
import { VisuallyHidden as F } from "../VisuallyHidden/VisuallyHidden.js";
import { Box as I } from "../Box/Box.js";
import "../Field/Field.js";
import "../Field/FieldLabel.js";
import "../Field/FieldInput.js";
import { useField as M } from "../Field/FieldContext.js";
import "../Field/FieldAction.js";
import { Flex as O } from "../Flex/Flex.js";
const P = u.label`
  position: relative;
  display: inline-block;
  z-index: 0;
  width: 100%;
`, V = u(I)`
  cursor: ${({ disabled: e }) => e ? "not-allowed" : void 0};
  // Masks the background of each value
  overflow: hidden;
  flex-wrap: wrap;

  ${B()}
`, w = u(O).attrs({
  hasRadius: !0
})`
  background-color: ${({ theme: e, checked: t, disabled: r }) => t ? r ? e.colors.neutral200 : e.colors.neutral0 : "transparent"};
  border: 1px solid
    ${({ theme: e, checked: t, disabled: r }) => t && t !== null ? r ? e.colors.neutral300 : e.colors.neutral200 : r ? e.colors.neutral150 : e.colors.neutral100};
  position: relative;
  user-select: none;
  z-index: 2;
  flex: 1 1 50%;
  /**
    We declare the defined value because we want the height of the input when 
    the values are in a row to be 40px. But defining a height on the label
    would break the input when it wraps.
  */
  padding-top: ${({ size: e }) => `${e === "S" ? "2px" : "6px"}`};
  padding-bottom: ${({ size: e }) => `${e === "S" ? "2px" : "6px"}`};
`, _ = u.input`
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  z-index: 1;
  width: 100%;
`, d = l.forwardRef(
  (H, R) => {
    var f = H, { size: e, onLabel: t, offLabel: r, children: o, checked: n, disabled: a, onChange: v } = f, k = y(f, ["size", "onLabel", "offLabel", "children", "checked", "disabled", "onChange"]);
    const { name: E, required: T } = M(), c = "neutral600";
    let $ = !n && n !== null ? "danger700" : c, L = n ? "primary600" : c;
    const q = (s) => {
      a || v(s);
    };
    return /* @__PURE__ */ l.createElement(P, null, /* @__PURE__ */ l.createElement(F, null, o), /* @__PURE__ */ l.createElement(V, {
      hasRadius: !0,
      disabled: a,
      padding: 1,
      display: "flex",
      background: a ? "neutral150" : "neutral100",
      borderStyle: "solid",
      borderWidth: "1px",
      borderColor: "neutral200"
    }, /* @__PURE__ */ l.createElement(w, {
      size: e,
      paddingLeft: 3,
      paddingRight: 3,
      justifyContent: "center",
      alignItems: "center",
      "aria-hidden": !0,
      checked: n === null ? !1 : !n,
      disabled: a
    }, /* @__PURE__ */ l.createElement(C, {
      variant: "pi",
      fontWeight: "bold",
      textTransform: "uppercase",
      textColor: a ? "neutral700" : $
    }, r)), /* @__PURE__ */ l.createElement(w, {
      size: e,
      paddingLeft: 3,
      paddingRight: 3,
      justifyContent: "center",
      alignItems: "center",
      "aria-hidden": !0,
      checked: n === null ? !1 : n,
      disabled: a
    }, /* @__PURE__ */ l.createElement(C, {
      variant: "pi",
      fontWeight: "bold",
      textTransform: "uppercase",
      textColor: a ? "neutral700" : L
    }, t)), /* @__PURE__ */ l.createElement(_, x(b({
      type: "checkbox",
      "aria-disabled": a,
      onChange: (s) => q(s),
      name: E,
      ref: R,
      "aria-required": T
    }, k), {
      checked: !(n === null || !n)
    }))));
  }
);
d.displayName = "ToggleCheckbox";
d.defaultProps = {
  disabled: !1,
  checked: !1,
  onChange: void 0,
  size: "M"
};
d.propTypes = {
  checked: i.bool,
  children: i.string.isRequired,
  disabled: i.bool,
  offLabel: i.string.isRequired,
  onChange: i.func,
  onLabel: i.string.isRequired,
  size: i.oneOf(Object.keys(j.input))
};
export {
  d as ToggleCheckbox
};
