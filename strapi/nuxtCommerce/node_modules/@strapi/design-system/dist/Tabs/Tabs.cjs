"use strict";var O=Object.defineProperty;var v=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var _=(e,t,a)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))w.call(t,a)&&_(e,a,t[a]);if(v)for(var a of v(t))R.call(t,a)&&_(e,a,t[a]);return e};var D=(e,t)=>{var a={};for(var s in e)w.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&v)for(var s of v(e))t.indexOf(s)<0&&R.call(e,s)&&(a[s]=e[s]);return a};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const k=require("react"),A=require("prop-types"),F=require("styled-components"),N=require("./TabsContext.cjs"),j=require("../Typography/Typography.cjs"),C=require("../helpers/keyboardKeys.cjs"),$=require("./useTabsFocus.cjs"),I=require("./components.cjs"),E=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},u=E(k),i=E(A),M=E(F),S=M.default.button`
  &[aria-disabled='true'] {
    cursor: not-allowed;
  }
`,P=a=>{var s=a,{children:e}=s,t=D(s,["children"]);const{id:y,selectedTabIndex:b,selectTabIndex:c,label:g,variant:T,onTabChange:q}=N.useTabs(),h=$.useTabsFocus(b,q),o=k.Children.toArray(e).map((r,p)=>k.cloneElement(r,{id:`${y}-${p}`,index:p,selectedTabIndex:b,onTabClick:()=>c(p),variant:T})),x=r=>{if(!o.every(l=>l.props.disabled))switch(r.key){case C.KeyboardKeys.RIGHT:{const l=b+1,n=d=>o[d].props.disabled?d===o.length-1?n(0):n(d+1):d,f=n(l>=o.length?0:l);c(f);break}case C.KeyboardKeys.LEFT:{const l=b-1,n=d=>o[d].props.disabled?n(d===0?o.length-1:d-1):d,f=n(l<0?o.length-1:l);c(f);break}case C.KeyboardKeys.HOME:{const l=o.findIndex(n=>!n.props.disabled);c(l);break}case C.KeyboardKeys.END:{const n=o.map((f,d)=>({isDisabled:f.props.disabled,index:d})).reverse().find(({isDisabled:f})=>!f);n&&c(n.index);break}}};return T==="simple"?u.default.createElement("div",m({ref:h,role:"tablist","aria-label":g,onKeyDown:x},t),o):u.default.createElement(I.DefaultTabsRow,m({ref:h,role:"tablist",alignItems:"flex-end","aria-label":g,onKeyDown:x},t),o)};P.propTypes={children:i.default.node.isRequired};const K=q=>{var h=q,{disabled:e,id:t,children:a,variant:s,hasError:y,index:b,selectedTabIndex:c,onTabClick:g}=h,T=D(h,["disabled","id","children","variant","hasError","index","selectedTabIndex","onTabClick"]);const o=`${t}-tab`,x=`${t}-tabpanel`,r=b===c,p=()=>{e||g()};if(s==="simple"){let n;return y?n="danger600":r?n="primary600":n="neutral600",u.default.createElement(S,m({id:o,role:"tab","aria-controls":r?x:void 0,tabIndex:r?0:-1,"aria-selected":r,type:"button",onClick:p,"aria-disabled":e},T),u.default.createElement(I.SimpleTabBox,{padding:4,selected:r,hasError:y},u.default.createElement(j.Typography,{variant:"sigma",textColor:n},a)))}y&&console.warn('The "hasError" prop is only available for the "simple" variant.');const l=c-1===b;return u.default.createElement(I.DefaultTabButton,m({id:o,role:"tab",type:"button","aria-controls":r?x:void 0,tabIndex:r?0:-1,"aria-selected":r,onClick:p,"aria-disabled":e,showRightBorder:l},T),u.default.createElement(I.DefaultTabBox,{padding:r?4:3,background:r?"neutral0":"neutral100",selected:r},u.default.createElement(j.Typography,{fontWeight:"bold",textColor:r?"primary700":"neutral600"},a)))};K.defaultProps={disabled:!1,hasError:!1,id:void 0,index:void 0,onTabClick:void 0,selectedTabIndex:void 0,variant:void 0};K.propTypes={children:i.default.node.isRequired,disabled:i.default.bool,hasError:i.default.bool,id:i.default.string,index:i.default.number,onTabClick:i.default.func,selectedTabIndex:i.default.number,variant:i.default.oneOf(["simple"])};exports.Tab=K;exports.Tabs=P;
